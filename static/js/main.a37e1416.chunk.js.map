{"version":3,"sources":["store/models/common.ts","store/models/index.ts","store/models/room.ts","store/index.ts","assets/img/bg-home.png","pages/Home/index.tsx","components/PageTemplate/index.tsx","pages/Room/index.tsx","pages/Setting/index.tsx","core/tools/tool.ts","core/tools/pen.ts","pages/PracticeRoom/components/ColorPicker/index.tsx","pages/PracticeRoom/components/ToolSizeSelector/index.tsx","pages/PracticeRoom/index.tsx","App.tsx","index.tsx"],"names":["common","createModel","state","selectors","slice","createSelector","reducers","increment","payload","effects","dispatch","incrementAsync","count","models","room","isEnteredRoom","isConnectedSocket","userInfo","participants","videos","chatList","localVideoState","find","info","userId","updateSocketConnectionState","updateEnteredRoomState","setParticipants","arr","values","setUserInfo","addVideo","push","updateVideoEnabled","forEach","video","videoEnabled","enabled","addChat","store","init","plugins","immerPlugin","selectPlugin","select","Home","navigate","useNavigate","enterRoom","useCallback","h","color","w","textAlign","src","BG_IMG","alt","colorScheme","size","variant","onClick","PageTemplate","children","id","className","Room","createBreakpoints","sm","md","lg","xl","p","maxW","templateRows","templateColumns","gap","rowSpan","colSpan","bg","mt","mb","fontSize","base","PROFILE_CHARACTERS","Setting","useState","drawTime","setDrawTime","round","setRound","myProfileIdx","setMyProfileIdx","controls","useAnimation","useEffect","start","opacity","scale","y","transition","delay","x","type","stiffness","velocity","default","duration","getRandomProfile","randomIdx","Math","floor","random","length","handlePrevProfile","handleNextProfile","isPrevDisabled","useMemo","isNextDisabled","centerContent","spacing","as","placeholder","alignItems","aria-label","icon","disabled","motion","div","animate","rightIcon","onChange","value","direction","Tool","canvas","context","config","isDragging","cursor","mouseDownHandler","mouseMoveHandler","mouseUpHandler","this","onMousedown","bind","onMousemove","onMouseup","beginPath","console","error","beforeDo","doIt","afterDo","closePath","warn","registerEventHander","newConf","unregisterEventHandler","addEventListener","removeEventListener","e","log","offsetX","offsetY","do","Pen","fillStyle","penSize","centerX","centerY","ellipse","PI","fill","ColorPicker","initialColor","colorChangeCallback","setColor","onColorChange","currentColor","target","ToolSizeSelector","initialSize","incrementSize","minSize","maxSize","Infinity","sizeChangeCallback","setSize","onSizeChangeButtonClick","s","nextSize","onSizeInputChange","currentSize","PracticeRoom","canvasRef","useRef","currentTool","setCurrentTool","current","getContext","lastTool","disable","enable","canvasWidth","window","innerWidth","canvasHeight","innerHeight","onSizeChange","setConfig","ref","width","height","App","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a37e1416.chunk.js","sourcesContent":["import { createModel } from '@rematch/core';\nimport { RootModel } from './';\n\nexport const common = createModel<RootModel>()({\n  state: 0,\n  selectors: (slice, createSelector) => ({\n    state() {\n      return slice;\n    },\n  }),\n  reducers: {\n    increment(state, payload: number) {\n      return state + payload;\n    },\n  },\n  effects: (dispatch) => ({\n    incrementAsync(payload: number, state) {\n      dispatch.count.increment(payload);\n    },\n  }),\n});\n","import { Models } from '@rematch/core';\nimport { common } from './common';\nimport { room } from './room';\n\nexport interface RootModel extends Models<RootModel> {\n  common: typeof common;\n  room: typeof room;\n}\n\nexport const models: RootModel = { common, room };\n","import { createModel } from '@rematch/core';\nimport { RootModel } from './';\nimport { values } from 'lodash-es';\n\ninterface VideoState {\n  userId: string;\n  stream: MediaStream;\n  videoEnabled: boolean;\n  audioEnabled: boolean;\n}\ninterface ChatState {\n  nickName: string;\n  message: string;\n  isMine?: boolean;\n}\ninterface RoomState {\n  isEnteredRoom: boolean;\n  isConnectedSocket: boolean;\n  userInfo: any | null;\n  participants: any[];\n  videos: VideoState[];\n  chatList: ChatState[];\n}\n\nconst initialState: RoomState = {\n  isEnteredRoom: false,\n  isConnectedSocket: false,\n  userInfo: null,\n  participants: [],\n  videos: [],\n  chatList: [],\n};\n\nexport const room = createModel<RootModel>()({\n  state: initialState,\n  selectors: (slice, createSelector) => ({\n    state: () => slice,\n    localVideoState: () =>\n      createSelector(slice, ({ userInfo, videos }) => {\n        if (userInfo) {\n          return videos.find((info) => info.userId === userInfo.userId);\n        }\n        return null;\n      }),\n  }),\n  reducers: {\n    updateSocketConnectionState(state, payload: boolean) {\n      state.isConnectedSocket = payload;\n      return state;\n    },\n    updateEnteredRoomState(state, payload: boolean) {\n      state.isEnteredRoom = payload;\n      return state;\n    },\n    setParticipants(state, payload: {}) {\n      const arr = values(payload);\n      state.participants = arr;\n      return state;\n    },\n    setUserInfo(state, payload: {}) {\n      state.userInfo = payload;\n      return state;\n    },\n    addVideo(state, payload: VideoState) {\n      state.videos.push(payload);\n      return state;\n    },\n    updateVideoEnabled(state, payload: { userId: string; enabled: boolean }) {\n      state.videos.forEach((video) => {\n        if (video.userId === payload.userId) {\n          video.videoEnabled = payload.enabled;\n        }\n      });\n      return state;\n    },\n    addChat(state, payload: ChatState) {\n      state.chatList.push(payload);\n      return state;\n    },\n  },\n  effects: (dispatch) => ({\n    incrementAsync(payload: number, state) {\n      dispatch.count.increment(payload);\n    },\n  }),\n});\n","import { init, RematchDispatch, RematchRootState } from '@rematch/core';\nimport { models, RootModel } from './models';\nimport immerPlugin from '@rematch/immer';\nimport selectPlugin from '@rematch/select';\n\nexport const store = init<RootModel>({\n  models,\n  plugins: [immerPlugin(), selectPlugin()],\n});\n\n// REF: https://rematchjs.org/docs/plugins/select/#3-selector-examples\nexport const { select } = store;\n\nexport type Store = typeof store;\nexport type Dispatch = RematchDispatch<RootModel>;\nexport type RootState = RematchRootState<RootModel>;\n","export default __webpack_public_path__ + \"static/media/bg-home.201630d7.png\";","import { useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, Center, Button, VStack } from '@chakra-ui/react';\nimport BG_IMG from 'assets/img/bg-home.png';\n\nimport './index.scss';\n\nconst roomId = 'abc';\nconst Home = () => {\n  const navigate = useNavigate();\n  const enterRoom = useCallback(() => {\n    navigate(`/room/${roomId}`);\n  }, [navigate]);\n\n  return (\n    <Center h=\"80vh\" color=\"white\">\n      <VStack>\n        <Box w=\"300px\" color=\"white\" textAlign=\"center\">\n          <img src={BG_IMG} alt=\"피카소\" />\n          <Button w=\"260px\" colorScheme=\"yellow\" size=\"lg\" variant=\"solid\" onClick={enterRoom}>\n            START\n          </Button>\n        </Box>\n      </VStack>\n    </Center>\n  );\n};\n\nexport default Home;\n","import React from 'react';\nimport './index.scss';\n\ninterface Props {\n  children: React.ReactNode;\n  id?: string;\n}\n\nconst PageTemplate = ({ children, id }: Props) => {\n  return (\n    <div className=\"page-template\" id={id}>\n      {children}\n    </div>\n  );\n};\n\nexport default PageTemplate;\n","\nimport { Container, Heading, Grid, GridItem, Text } from '@chakra-ui/react';\nimport { createBreakpoints } from '@chakra-ui/theme-tools';\nimport PageTemplate from 'components/PageTemplate';\n\nimport './index.scss';\n\nconst Room = () => {\n  createBreakpoints({\n    sm: '480px',\n    md: '768px',\n    lg: '1024px',\n    xl: '1280px',\n  });\n\n  return (\n    <PageTemplate id=\"room\">\n      <Container p={0} maxW=\"100%\">\n        <Grid h=\"100vh\" templateRows=\"repeat(8, 1fr)\" templateColumns=\"repeat(8, 1fr)\" gap={2}>\n          <GridItem rowSpan={1} colSpan={8} bg=\"tomato\">\n            <Heading mt={10} mb={10} textAlign=\"center\" fontSize={40} color=\"#000\">\n              ROOM\n            </Heading>\n          </GridItem>\n\n          <GridItem rowSpan={{ base: 1, xl: 7 }} colSpan={{ base: 8, xl: 2 }} bg=\"gray.600\">\n            참가자 목록\n          </GridItem>\n\n          <GridItem rowSpan={{ base: 4, md: 7 }} colSpan={{ base: 8, md: 5, xl: 4 }} bg=\"white\">\n            <Text fontSize=\"6xl\" color=\"#000\">\n              drawing~\n            </Text>\n          </GridItem>\n\n          <GridItem rowSpan={{ base: 2, md: 7 }} colSpan={{ base: 8, md: 3, xl: 2 }} bg=\"teal\">\n            채팅\n          </GridItem>\n        </Grid>\n      </Container>\n    </PageTemplate>\n  );\n};\n\nexport default Room;\n","import { useState, useCallback, useEffect, useMemo } from 'react';\nimport {\n  Container,\n  Heading,\n  Stack,\n  Box,\n  Input,\n  Button,\n  RadioGroup,\n  Radio,\n  Divider,\n  Grid,\n  GridItem,\n  IconButton,\n  Text,\n} from '@chakra-ui/react';\nimport { BsArrowRightCircleFill, BsArrowLeft, BsArrowRight } from 'react-icons/bs';\nimport { GiPerspectiveDiceSixFacesRandom } from 'react-icons/gi';\nimport { motion, useAnimation } from 'framer-motion';\n\nimport PageTemplate from '../../components/PageTemplate';\n\nimport './index.scss';\n\n/**\n * @TODO\n * - 입장하기 버튼 활성화 조건 체크\n */\nconst PROFILE_CHARACTERS = ['🐶', '🐱', '🐰', '🦊', '🐨', '🐼', '🐯', '🐥', '🐷'];\n\nconst Setting = () => {\n  const [drawTime, setDrawTime] = useState('60');\n  const [round, setRound] = useState('10');\n  const [myProfileIdx, setMyProfileIdx] = useState(1);\n\n  // 프로필 설정 애니메이션\n  const controls = useAnimation();\n  useEffect(() => {\n    controls.start({\n      opacity: [0.5, 1],\n      scale: [0.7, 1.1, 1],\n      y: [15, -10, 0],\n      transition: {\n        delay: 1,\n        x: { type: 'spring', stiffness: 50, velocity: 50 },\n        default: { duration: 0.5 },\n      },\n    });\n  }, [myProfileIdx, controls]);\n\n  const getRandomProfile = useCallback(() => {\n    const randomIdx = Math.floor(Math.random() * PROFILE_CHARACTERS.length);\n    setMyProfileIdx(randomIdx);\n  }, [setMyProfileIdx]);\n\n  const handlePrevProfile = useCallback(() => {\n    setMyProfileIdx((myProfileIdx) => myProfileIdx - 1);\n  }, [setMyProfileIdx]);\n\n  const handleNextProfile = useCallback(() => {\n    setMyProfileIdx((myProfileIdx) => myProfileIdx + 1);\n  }, [setMyProfileIdx]);\n\n  const isPrevDisabled = useMemo(() => myProfileIdx === 0, [myProfileIdx]);\n  const isNextDisabled = useMemo(() => myProfileIdx === PROFILE_CHARACTERS.length - 1, [myProfileIdx]);\n\n  return (\n    <PageTemplate id=\"setting\">\n      <Container p={15} centerContent>\n        <Box maxW=\"3xl\">\n          <Stack spacing={5} mt={50}>\n            <Heading as=\"h1\" size=\"2xl\">\n              프로필 설정\n            </Heading>\n            <Input variant=\"outline\" placeholder=\"닉네임\" />\n\n            <Grid templateColumns=\"repeat(5, 1fr)\" alignItems=\"center\" gap={6}>\n              <IconButton\n                colorScheme=\"teal\"\n                aria-label=\"이전\"\n                icon={<BsArrowLeft />}\n                disabled={isPrevDisabled}\n                onClick={handlePrevProfile}\n              />\n              <GridItem colSpan={3} textAlign=\"center\">\n                <motion.div animate={controls}>\n                  <Text fontSize=\"7xl\">{PROFILE_CHARACTERS[myProfileIdx]}</Text>\n                </motion.div>\n              </GridItem>\n\n              <IconButton\n                colorScheme=\"teal\"\n                aria-label=\"다음\"\n                icon={<BsArrowRight />}\n                disabled={isNextDisabled}\n                onClick={handleNextProfile}\n              />\n            </Grid>\n            <Button\n              rightIcon={<GiPerspectiveDiceSixFacesRandom />}\n              onClick={getRandomProfile}\n              colorScheme=\"teal\"\n              size=\"lg\"\n              variant=\"outline\"\n            >\n              랜덤 프로필\n            </Button>\n          </Stack>\n\n          <Stack spacing={5} mt={50}>\n            <Heading as=\"h2\" size=\"xl\">\n              게임 설정\n            </Heading>\n\n            <Divider />\n            <Grid templateColumns=\"repeat(2, 1fr)\" gap={6}>\n              <Heading as=\"h3\" size=\"sm\">\n                그리는 시간\n              </Heading>\n\n              <RadioGroup colorScheme=\"teal\" onChange={setDrawTime} value={drawTime}>\n                <Stack direction=\"row\" spacing={5}>\n                  <Radio value=\"30\">30초</Radio>\n                  <Radio value=\"60\">1분</Radio>\n                  <Radio value=\"120\">2분</Radio>\n                </Stack>\n              </RadioGroup>\n            </Grid>\n\n            <Grid templateColumns=\"repeat(2, 1fr)\" gap={6}>\n              <Heading as=\"h3\" size=\"sm\">\n                라운드 수\n              </Heading>\n\n              <RadioGroup colorScheme=\"teal\" onChange={setRound} value={round}>\n                <Stack direction=\"row\" spacing={5}>\n                  <Radio value=\"5\">5</Radio>\n                  <Radio value=\"10\">10</Radio>\n                  <Radio value=\"15\">15</Radio>\n                </Stack>\n              </RadioGroup>\n            </Grid>\n\n            <Button rightIcon={<BsArrowRightCircleFill />} colorScheme=\"teal\" size=\"lg\" variant=\"solid\">\n              입장하기\n            </Button>\n          </Stack>\n        </Box>\n      </Container>\n    </PageTemplate>\n  );\n};\n\nexport default Setting;\n","type Cursor = {\n  x: number;\n  y: number;\n};\n\nexport type Config = Record<string, any>;\n\ntype ToolConstructorParams = {\n  canvas: HTMLCanvasElement;\n  context: CanvasRenderingContext2D;\n  config?: Config;\n};\n\nexport type DoItParams = {\n  context: CanvasRenderingContext2D;\n  config?: Config;\n  cursor: Cursor;\n};\n\ntype MouseEventHandler = (e: MouseEvent) => void;\n\nexport class Tool {\n  private context: CanvasRenderingContext2D;\n  private canvas: HTMLCanvasElement;\n  private config: Config | undefined;\n  private isDragging = false;\n  private cursor: Cursor = {\n    x: -1,\n    y: -1,\n  };\n  private enabled = false;\n  private mouseDownHandler: MouseEventHandler | null = null;\n  private mouseMoveHandler: MouseEventHandler | null = null;\n  private mouseUpHandler: MouseEventHandler | null = null;\n\n  constructor({ canvas, context, config }: ToolConstructorParams) {\n    this.canvas = canvas;\n    this.context = context;\n    this.config = config;\n    this.init();\n  }\n\n  init() {\n    this.mouseDownHandler = this.onMousedown.bind(this);\n    this.mouseMoveHandler = this.onMousemove.bind(this);\n    this.mouseUpHandler = this.onMouseup.bind(this);\n  }\n\n  beforeDo() {\n    if (!this.context) {\n      console.error('컨텍스트를 찾을 수 없습니다.');\n      return;\n    }\n\n    this.context.beginPath();\n  }\n\n  do() {\n    this.beforeDo();\n    this.doIt({\n      context: this.context,\n      config: this.config,\n      cursor: this.cursor,\n    });\n    this.afterDo();\n  }\n\n  afterDo() {\n    if (!this.context) {\n      console.error('컨텍스트를 찾을 수 없습니다.');\n      return;\n    }\n\n    this.context.closePath();\n  }\n\n  doIt({ context, config, cursor }: DoItParams) {\n    console.warn('It must be implemented!');\n  }\n\n  enable() {\n    if (this.enabled) {\n      return;\n    }\n\n    this.enabled = true;\n    this.registerEventHander();\n  }\n\n  setConfig(config: Config) {\n    const newConf = {\n      ...this.config,\n      ...config,\n    };\n\n    this.config = newConf;\n  }\n\n  disable() {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.enabled = false;\n    this.unregisterEventHandler();\n  }\n\n  registerEventHander() {\n    if (!(this.mouseDownHandler && this.mouseMoveHandler && this.mouseUpHandler)) {\n      return;\n    }\n\n    this.canvas.addEventListener('mousedown', this.mouseDownHandler);\n    this.canvas.addEventListener('mousemove', this.mouseMoveHandler);\n    this.canvas.addEventListener('mouseup', this.mouseUpHandler);\n  }\n\n  unregisterEventHandler() {\n    if (!(this.mouseDownHandler && this.mouseMoveHandler && this.mouseUpHandler)) {\n      return;\n    }\n\n    this.canvas.removeEventListener('mousedown', this.mouseDownHandler);\n    this.canvas.removeEventListener('mousemove', this.mouseMoveHandler);\n    this.canvas.removeEventListener('mouseup', this.mouseUpHandler);\n  }\n\n  onMousedown(e: MouseEvent) {\n    console.log(e);\n    const { offsetX: x, offsetY: y } = e;\n    this.isDragging = true;\n\n    this.cursor = {\n      x,\n      y,\n    };\n\n    this.do();\n  }\n\n  onMousemove(e: MouseEvent) {\n    if (!this.isDragging) {\n      return;\n    }\n\n    const { offsetX: x, offsetY: y } = e;\n\n    this.cursor = {\n      x,\n      y,\n    };\n\n    this.do();\n  }\n\n  onMouseup(e: MouseEvent) {\n    this.isDragging = false;\n  }\n\n  dispose() {\n    this.unregisterEventHandler();\n    this.mouseDownHandler = null;\n    this.mouseMoveHandler = null;\n    this.mouseUpHandler = null;\n  }\n}\n","import { Tool, DoItParams } from './tool';\n\nconst PEN_SIZE_FACTOR = 1;\nconst DEFAULT_FILL_COLOR = 'black';\n\nexport class Pen extends Tool {\n  doIt({ context, cursor, config }: DoItParams) {\n    const size = config?.['size'];\n    const fillStyle = config?.['color'] || DEFAULT_FILL_COLOR;\n\n    const penSize = size * PEN_SIZE_FACTOR;\n    const { x, y } = cursor;\n\n    const centerX = x - penSize / 2;\n    const centerY = y - penSize / 2;\n\n    context.fillStyle = fillStyle;\n    context.ellipse(centerX, centerY, penSize, penSize, 0, 0, 2 * Math.PI);\n    context.fill();\n  }\n}\n","import { ChangeEvent, useCallback, useEffect, useState } from 'react';\nimport './index.scss';\n\ntype Props = {\n  initialColor?: string;\n  colorChangeCallback?: (color: string) => void;\n};\n\nconst ColorPicker = ({ initialColor = 'black', colorChangeCallback }: Props) => {\n  const [color, setColor] = useState<string>(initialColor);\n\n  const onColorChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {\n    const currentColor = e.target.value;\n    setColor(currentColor);\n  }, []);\n\n  useEffect(() => {\n    colorChangeCallback?.(color);\n  }, [colorChangeCallback, color]);\n\n  return (\n    <div className=\"color-picker\">\n      <input type=\"color\" onChange={onColorChange} value={color} />\n    </div>\n  );\n};\n\nexport default ColorPicker;\n","import { ChangeEvent, useCallback, useEffect, useState } from 'react';\nimport './index.scss';\n\ntype Props = {\n  initialSize?: number;\n  incrementSize?: number;\n  minSize?: number;\n  maxSize?: number;\n  sizeChangeCallback?: (size: number) => void;\n};\n\nconst ToolSizeSelector = ({\n  initialSize = 1,\n  incrementSize = 1,\n  minSize = 1,\n  maxSize = Infinity,\n  sizeChangeCallback,\n}: Props) => {\n  const [size, setSize] = useState<number>(initialSize);\n\n  const onSizeChangeButtonClick = useCallback(\n    (direction: 'forward' | 'backward') => {\n      setSize((s) => {\n        const nextSize = s + (direction === 'backward' ? incrementSize * -1 : incrementSize);\n\n        if (minSize > nextSize) {\n          return minSize;\n        }\n        if (nextSize > maxSize) {\n          return maxSize;\n        }\n\n        return nextSize;\n      });\n    },\n    [setSize, incrementSize, minSize, maxSize]\n  );\n\n  const onSizeInputChange = useCallback(\n    (e: ChangeEvent<HTMLInputElement>) => {\n      const currentSize = +e.target.value;\n      if (minSize > currentSize) {\n        setSize(minSize);\n        return;\n      }\n      if (currentSize < maxSize) {\n        return setSize(maxSize);\n      }\n\n      setSize(currentSize);\n    },\n    [minSize, maxSize]\n  );\n\n  useEffect(() => {\n    sizeChangeCallback?.(size);\n  }, [sizeChangeCallback, size]);\n\n  return (\n    <div className=\"tool-size-selector\">\n      <button className=\"minus\" onClick={() => onSizeChangeButtonClick('backward')}>\n        -\n      </button>\n      <input type=\"number\" onChange={onSizeInputChange} value={size} />\n      <button className=\"plus\" onClick={() => onSizeChangeButtonClick('forward')}>\n        +\n      </button>\n    </div>\n  );\n};\n\nexport default ToolSizeSelector;\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport PageTemplate from 'components/PageTemplate';\nimport { Pen, Tool } from 'core/tools';\nimport ColorPicker from './components/ColorPicker';\nimport ToolSizeSelector from './components/ToolSizeSelector';\n\nimport './index.scss';\n\nconst PracticeRoom = () => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [currentTool, setCurrentTool] = useState<Tool | undefined>();\n\n  useEffect(() => {\n    if (!canvasRef.current) {\n      return;\n    }\n\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    if (!context) {\n      console.error('컨텍스트를 가져오는데에 실패하였습니다.');\n      return;\n    }\n\n    setCurrentTool((lastTool: Tool | undefined) => {\n      lastTool?.disable();\n\n      return new Pen({\n        canvas,\n        context,\n        config: {\n          size: 5,\n        },\n      });\n    });\n  }, [setCurrentTool]);\n\n  useEffect(() => {\n    currentTool?.enable();\n  }, [currentTool]);\n\n  const { canvasWidth, canvasHeight } = useMemo(() => {\n    return {\n      canvasWidth: window.innerWidth * 0.8,\n      canvasHeight: window.innerHeight * 0.8,\n    };\n  }, []);\n\n  const onSizeChange = useCallback(\n    (size: number) => {\n      currentTool?.setConfig({\n        size,\n      });\n    },\n    [currentTool]\n  );\n\n  const onColorChange = useCallback(\n    (color: string) => {\n      currentTool?.setConfig({\n        color,\n      });\n    },\n    [currentTool]\n  );\n\n  return (\n    <PageTemplate id=\"practice-room\">\n      <div>\n        <canvas ref={canvasRef} width={canvasWidth} height={canvasHeight} />\n      </div>\n      <ToolSizeSelector sizeChangeCallback={onSizeChange} />\n      <ColorPicker colorChangeCallback={onColorChange} />\n    </PageTemplate>\n  );\n};\n\nexport default PracticeRoom;\n","import { Provider } from 'react-redux';\nimport { Routes, Route } from 'react-router-dom';\nimport { ChakraProvider } from '@chakra-ui/react';\nimport { store } from './store';\nimport Home from 'pages/Home';\nimport Room from 'pages/Room';\nimport Setting from 'pages/Setting';\nimport PracticeRoom from 'pages/PracticeRoom';\n\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <ChakraProvider>\n        <Routes>\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/room/:roomId\" element={<Room />} />\n          <Route path=\"/setting\" element={<Setting />} />\n          <Route path=\"/practice-room\" element={<PracticeRoom />} />\n        </Routes>\n      </ChakraProvider>\n    </Provider>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n\nimport './styles/index.scss';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}